<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>KageNikki</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="dark">

<div class="container">
  <!-- Topbar -->
  <div class="topbar">
    <h1>ðŸŒ¸ KageNikki</h1>
    <div>
      <button id="toggleTheme" class="ghost">Cambiar tema</button>
      <select id="langSelect">
        <option value="es">ðŸ‡ªðŸ‡¸ EspaÃ±ol</option>
        <option value="ja">ðŸ‡¯ðŸ‡µ æ—¥æœ¬èªž</option>
        <option value="en">ðŸ‡¬ðŸ‡§ English</option>
      </select>
    </div>
  </div>

  <!-- Secciones dinÃ¡micas -->
  <div id="mainContent">
    <!-- AquÃ­ se cargarÃ¡n los mÃ³dulos: Perfil, Diario, Chat, Tienda, RPG, etc. -->
  </div>

  <!-- Footer -->
  <footer>
    Hecho por â€” KageNikki Ultimate
  </footer>
</div>

<!-- JS -->
<script type="module">
  import { changeLanguage } from './js/lang.js';
  import { renderProfile } from './js/profile.js';
  import { renderDiary } from './js/diary.js';
  import { renderChat } from './js/chat-sensei.js';
  // Importa otros mÃ³dulos segÃºn sea necesario
  // import { renderStore } from './js/store.js';
  // import { renderRPG } from './js/rpg.js';

  const main = document.getElementById('mainContent');
  const toggleTheme = document.getElementById('toggleTheme');
  const langSelect = document.getElementById('langSelect');

  // ================================
  // Cambiar tema
  toggleTheme.onclick = () => {
    document.body.classList.toggle('dark');
    document.body.classList.toggle('light');
    localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
  };
  (function initTheme() {
    const th = localStorage.getItem('theme') || 'dark';
    document.body.classList.add(th);
  })();

  // ================================
  // Cambiar idioma
  langSelect.onchange = (e) => {
    changeLanguage(e.target.value);
  };
  (function initLang() {
    const lang = localStorage.getItem('lang') || 'es';
    langSelect.value = lang;
    changeLanguage(lang);
  })();

  // ================================
  // Renderizar mÃ³dulos principales
  function loadModule(name){
    main.innerHTML = '';
    switch(name){
      case 'profile': renderProfile(main); break;
      case 'diary': renderDiary(main); break;
      case 'chat': renderChat(main); break;
      // case 'store': renderStore(main); break;
      // case 'rpg': renderRPG(main); break;
      default: main.innerHTML='<h2>Bienvenido a KageNikki Ultimate ðŸŒ¸</h2>';
    }
  }

  // ================================
  // Menu rÃ¡pido (puedes expandir con Ã­conos y botones)
  const menuDiv = document.createElement('div');
  menuDiv.className = 'actions';
  ['profile','diary','chat'].forEach(mod=>{
    const btn = document.createElement('button');
    btn.textContent = mod.toUpperCase();
    btn.onclick = ()=>loadModule(mod);
    menuDiv.appendChild(btn);
  });
  main.appendChild(menuDiv);

  // Cargar inicio
  loadModule();
</script>
</body>
</html>
